<?xml version="1.0" encoding="Shift_JIS"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<!-- generated by to_html.pl from GModule.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>About GModule</title>
	<meta name="author" content="Halo" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="Standard style for Kirikiri-related reference" />
	<link href="mailto:halosuke@gmail.com" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="Top page" />
</head>
<body>
<h1><a id="id84" name="id84">GModule object</a>
</h1><div class="para"><div>
The Plugin class in KAG3 corresponds to the GModule class in GOKI2.<br />
To create a GModule, first create a file with class name.tjs.<br />
Create Sample.tjs and make the contents as follows.<br />
You can add tags by implementing the createExtensionTagHandlers method and returning a dictionary array.<br />
<div class="tagexample"><code class="bq"><span class="weak">Sample.tjs</span><br />
class Sample extends GModule<br />
{<br />
　function Sample(container, name)<br />
　{<br />
　　super.GModule(container, name);<br />
　}<br />
<br />
　function createExtensionTagHandlers()<br />
　{<br />
　　return %[<br />
　　　/* @sample */<br />
　　　'sample' =&gt; function (elm, c) {<br />
　　　　// The conductor of the execution source is passed to c.<br />
　　　　System.inform("The sample tag was executed.");<br />
　　　} incontextof this,<br />
　　];<br />
　}<br />
}<br />
</code></div>
<br />
After creating Sample.tjs, add the following line to the construct.gs file.<br />
<div class="tagexample"><code class="bq">
@load_module name=Sample<br />
</code></div>
<br />
Now you can write the sample tag.<br />
<br />
To access the module from TJS, use window.modules.Sample.<br />
<br />
<h1><a id="id84" name="id84">Inheriting existing modules</a>
</h1><div class="para"><div>
Existing modules can be derived to add functionality.<br />
Here, we will add a group of freely usable layers to ModImage.<br />
<div class="example2"><code class="bq"><span class="weak">ModImageEx.tjs</span><br />
/* Create your own iterator class. */<br />
class FreeLayerIterator extends GLayerIterator<br />
{<br />
　function FreeLayerIterator(window, container)<br />
　{<br />
　　super.GLayerIterator(...);<br />
<br />
　　// Sets the basic absolute value of the layer.<br />
　　setAbsoluteBase(10000);<br />
　　// The value set in setAbsoluteBase + the value set here * layer index will be the final absolute value of the layer.<br />
　　setAbsoluteStep(1000);<br />
　}<br />
<br />
　function create(window)<br />
　{<br />
　　// If you have your own layer, you can create it and return it.<br />
　　var obj = new GLayer(window, container.get(container.parentLayerName), onLayerEvent);<br />
<br />
　　return obj;<br />
　}<br />
<br />
　// The string specified here + layer index becomes the layer name.<br />
　// Use this name when extracting the layer from the container.<br />
　property prefix<br />
　{<br />
　　getter　　　{ return 'free_'; }<br />
　}<br />
}<br />
<br />
class ModImageEx extends ModImage<br />
{<br />
　var freeLayers;<br />
<br />
　function ModImageEx(container, name)<br />
　{<br />
　　super.ModImage(container, name);<br />
<br />
　　freeLayers = new FreeLayerIterator(window, layerContainer);<br />
　}<br />
<br />
　function createExtensionTagHandlers()<br />
　{<br />
　　return %[<br />
　　　/* @freelayeropt */<br />
　　　'freelayeropt' =&gt; function (elm, c) {<br />
　　　　// Change the number of layers.<br />
　　　　freeLayers.count = +elm.count if elm.count !== void;<br />
　　　} incontextof this,<br />
<br />
　　　/* @freelayer */<br />
　　　'freelayer' =&gt; function (elm, c) {<br />
　　　　// Load the image into a layer and display it.<br />
　　　　var layer = freeLayers.at(+elm.no);<br />
　　　　layer.loadImages(elm.storage, elm.key);<br/>
　　　　layer.visible = true;<br />
　　　} incontextof this,<br />
　　];<br />
　}<br />
<br />
　　function onAttach(name)<br />
　　{<br />
　　　// By registering the alias of the derivation source (ModImage) module here,<br />
　　　// you can allow other modules that use ModImage to use the derivation destination (ModImageEx) module.<br />
　　　addAlias("ModImageEx", "ModImage");<br />
　　　addAlias("ModImageEx", "modImage");<br />
　　}<br />
}<br />
</code></div>
It is also possible to create a free module without inheriting an existing module.<br />
For example, you can easily create an original save/load screen.<br />
</div></div>
<h1><a id="id84" name="id84">Events</a>
</h1><div class="para"><div>
GOKI2 modules can receive various events.<br />
As an example, if you want to receive a window left click event, add the following to the Sample class.<br />
<div class="tagexample"><code class="bq"><span class="weak">Sample.tjs</span><br />
class Sample extends GModule<br />
{<br />
　function onWindowLeftClick(x, y, shift)<br />
　{<br />
　　// Since the window was left clicked, write some processing.<br />
　}<br />
}<br />
</code></div>
To add an event, do the following at the timing you want the event to occur.<br />
container.callHandler("onEvent", param1, param2, ...);<br />
<br />
<table class="taglist"><tbody>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#onConductorCall">onConductorCall</a></span></td><td class="taglisteven">call tag execution event</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#onConductorJump">onConductorJump</a></span></td><td class="taglistodd">jump tag execution event</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#onConductorReturn">onConductorReturn</a></span></td><td class="taglisteven">return tag execution event</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#onConductorScenarioLoad">onConductorScenarioLoad</a></span></td><td class="taglistodd">Scenario load event</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#onConductorScenarioLoaded">onConductorScenarioLoaded</a></span></td><td class="taglisteven">Scenario post-load event</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#onConductorLabel">onConductorLabel</a></span></td><td class="taglistodd">Label passing event</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#onSoundMasterVolumeChanged">onSoundMasterVolumeChanged</a></span></td><td class="taglisteven">Sound master volume change event</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#onWindowLeftClick">onWindowLeftClick</a></span></td><td class="taglistodd">Window left click event</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#onWindowRightClick">onWindowRightClick</a></span></td><td class="taglisteven">Window right click event</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#onWindowMiddleClick">onWindowMiddleClick</a></span></td><td class="taglistodd">Window middle button click event</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#onWindowMouseWheel">onWindowMouseWheel</a></span></td><td class="taglistodd">Window wheel event</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#onWindowKeyDown">onWindowKeyDown</a></span></td><td class="taglisteven">key down event</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#onWindowKeyUp">onWindowKeyUp</a></span></td><td class="taglistodd">key up event</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#onWindowClose">onWindowClose</a></span></td><td class="taglisteven">window close event</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#onSaveStartAnchor">onSaveStartAnchor</a></span></td><td class="taglistodd">Start position recording event</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#onLoadStartAnchor">onLoadStartAnchor</a></span></td><td class="taglisteven">Load event to start position</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#onPushRecordAnchor">onPushRecordAnchor</a></span></td><td class="taglistodd">Record position record event</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#onPopRecordAnchor">onPopRecordAnchor</a></span></td><td class="taglisteven">Record position return event</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#onRemoveStartAnchor">onRemoveStartAnchor</a></span></td><td class="taglistodd">Start position deletion event</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#onSaveSystemVariables">onSaveSystemVariables</a></span></td><td class="taglisteven">Event when saving system variables</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#onLoadSystemVariables">onLoadSystemVariables</a></span></td><td class="taglistodd">Events when loading system variables</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#onSave">onSave</a></span></td><td class="taglisteven">Event on save</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#onLoad">onLoad</a></span></td><td class="taglistodd">Event on load</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#onCopyBookmark">onCopyBookmark</a></span></td><td class="taglisteven">Event when copying save data</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#onEraseBookmark">onEraseBookmark</a></span></td><td class="taglistodd">Event when saving data is deleted</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#onShowMessageLayer">onShowMessageLayer</a></span></td><td class="taglisteven">Event when message layer is displayed</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#onHideMessageLayer">onHideMessageLayer</a></span></td><td class="taglistodd">Event when message layer is hidden</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#onHideMessageLayerByUser">onHideMessageLayerByUser</a></span></td><td class="taglisteven">Event when message layer is temporarily hidden</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#onShowMessageLayerByUser">onShowMessageLayerByUser</a></span></td><td class="taglistodd">Event when message layer returns from temporary hiding</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#onSkipModeChanged">onSkipModeChanged</a></span></td><td class="taglisteven">Event when skip mode is changed</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#onCancelAutoMode">onCancelAutoMode</a></span></td><td class="taglistodd">Event when auto mode is canceled</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#onEnterAutoMode">onEnterAutoMode</a></span></td><td class="taglisteven">Event when auto mode is activated</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#onShowHistoryLayer">onShowHistoryLayer</a></span></td><td class="taglistodd">Event when history layer is displayed</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#onHideHistoryLayer">onHideHistoryLayer</a></span></td><td class="taglisteven">Event when history layer is hidden</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#onPrimaryLayerResize">onPrimaryLayerResize</a></span></td><td class="taglistodd">Event when the primary layer is resized</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#onScreenModeChanged">onScreenModeChanged</a></span></td><td class="taglisteven">Event when screen mode is changed</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#onMessageSpeedConfigChanged">onMessageSpeedConfigChanged</a></span></td><td class="taglistodd">Event when message speed is changed</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#onReadingMessageSpeedConfigChanged">onReadingMessageSpeedConfigChanged</a></span></td><td class="taglisteven">Event when read message speed is changed</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#onPlayMemory">onPlayMemory</a></span></td><td class="taglistodd">Event when memory is played</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#onEndMemory">onEndMemory</a></span></td><td class="taglisteven">Event when reminiscence playback ends</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#onAskStartConfirm">onAskStartConfirm</a></span></td><td class="taglistodd">Back to topCheck event when settings are changed</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#onAskRecordConfirm">onAskRecordConfirm</a></span></td><td class="taglisteven">Go back to previous pageConfirm event when settings are changed</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#onAskCloseConfirm">onAskCloseConfirm</a></span></td><td class="taglistodd">Event when the settings to confirm termination are changed</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#onAskSaveConfirm">onAskSaveConfirm</a></span></td><td class="taglisteven">Event when the setting to confirm save data overwriting is changed</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#onSaveEnabled">onSaveEnabled</a></span></td><td class="taglistodd">Event when saving becomes possible</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#onSaveDisabled">onSaveDisabled</a></span></td><td class="taglisteven">Event when saving becomes impossible</td></tr>
<tr><td class="taglistodd"><span class="taglistlink"><a class="jump" href="#onShowTitle">onShowTitle</a></span></td><td class="taglistodd">Event when title screen is displayed</td></tr>
<tr><td class="taglisteven"><span class="taglistlink"><a class="jump" href="#onHideTitle">onHideTitle</a></span></td><td class="taglisteven">Event when title screen is hidden</td></tr>
</tbody></table>
</div></div>

<h1><a name="onConductorCall" id="onConductorCall" class="targanchor"><span class="b">onConductorCall(elm)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onConductorCall"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">elm</td><td class="tagattribname">The arguments passed to the tag are passed in the form of a dictionary array.<br />
elm.tagname : 'call'<br />
elm.ignore : Specify true or false. If you specify true, the tag will be ignored.</td></tr>
</tbody></table>
<div class="tagremarks">Called when the call tag is executed.<br /></div>
</div></div>

<h1><a name="onConductorJump" id="onConductorJump" class="targanchor"><span class="b">onConductorJump(elm)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onConductorJump"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">elm</td><td class="tagattribname">The arguments passed to the tag are passed in the form of a dictionary array.<br />
elm.tagname : 'jump'<br />
elm.ignore : Specify true or false. If you specify true, the tag will be ignored.</td></tr>
</tbody></table>
<div class="tagremarks">Called when the jump tag is executed.<br /></div>
</div></div>

<h1><a name="onConductorReturn" id="onConductorReturn" class="targanchor"><span class="b">onConductorReturn(elm)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onConductorReturn"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">elm</td><td class="tagattribname">The arguments passed to the tag are passed in the form of a dictionary array.<br />
elm.tagname : 'return'<br />
elm.ignore : Specify true or false. If you specify true, the tag will be ignored.</td></tr>
</tbody></table>
<div class="tagremarks">Called when the return tag is executed.<br /></div>
</div></div>

<h1><a name="onConductorScenarioLoad" id="onConductorScenarioLoad" class="targanchor"><span class="b">onConductorScenarioLoad(storage)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onConductorScenarioLoad"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">storage</td><td class="tagattribname">Scenario storage name to be loaded.</td></tr>
</tbody></table>
<div class="tagremarks">Called before the scenario is loaded.<br /></div>
</div></div>

<h1><a name="onConductorScenarioLoaded" id="onConductorScenarioLoaded" class="targanchor"><span class="b">onConductorScenarioLoaded(storage)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onConductorScenarioLoaded"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">storage</td><td class="tagattribname">Loaded scenario storage name.</td></tr>
</tbody></table>
<div class="tagremarks">Called after the scenario is loaded.<br /></div>
</div></div>

<h1><a name="onConductorLabel" id="onConductorLabel" class="targanchor"><span class="b">onConductorLabel(label, pagename, firstLabelProcessed)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onConductorLabel"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">label</td><td class="tagattribname">Passed label name.<td /></tr>
<tr><td class="tagattribalias">pagename</td><td class="tagattribname">Page name of the passed label.</td></tr>
<tr><td class="tagattribalias">firstLabelProcessed</td><td class="tagattribname">True is passed if the first saveable label has been passed.<td /></tr>
</tbody></table>
<div class="tagremarks">Called when the label passes.<br /></div>
</div></div>

<h1><a name="onSoundMasterVolumeChanged" id="onSoundMasterVolumeChanged" class="targanchor"><span class="b">onSoundMasterVolumeChanged(newVol, oldVol)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onSoundMasterVolumeChanged"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">newVol</td><td class="tagattribname">Newly set master volume value<td /></tr>
<tr><td class="tagattribalias">oldVol</td><td class="tagattribname">Original master volume value.</td></tr>
</tbody></table>
<div class="tagremarks">Called when the master volume of a sound is changed.<br /></div>
</div></div>

<h1><a name="onWindowLeftClick" id="onWindowLeftClick" class="targanchor"><span class="b">onWindowLeftClick(x, y, shift)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onWindowLeftClick"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">x</td><td class="tagattribname">mouse cursor position<td /></tr>
<tr><td class="tagattribalias">y</td><td class="tagattribname">mouse cursor position</td></tr>
<tr><td class="tagattribalias">shift</td><td class="tagattribname">keys that were pressed at the same time.</td></tr>
</tbody></table>
<div class="tagremarks">Called when the window is left-clicked.<br /></div>
</div></div>

<h1><a name="onWindowRightClick" id="onWindowRightClick" class="targanchor"><span class="b">onWindowRightClick(x, y, shift)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onWindowRightClick"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">x</td><td class="tagattribname">mouse cursor position<td /></tr>
<tr><td class="tagattribalias">y</td><td class="tagattribname">mouse cursor position</td></tr>
<tr><td class="tagattribalias">shift</td><td class="tagattribname">keys that were pressed at the same time.</td></tr>
</tbody></table>
<div class="tagremarks">Called when the window is right-clicked.<br /></div>
</div></div>

<h1><a name="onWindowMiddleClick" id="onWindowMiddleClick" class="targanchor"><span class="b">onWindowMiddleClick(x, y, shift)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onWindowMiddleClick"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">x</td><td class="tagattribname">mouse cursor position<td /></tr>
<tr><td class="tagattribalias">y</td><td class="tagattribname">mouse cursor position</td></tr>
<tr><td class="tagattribalias">shift</td><td class="tagattribname">keys that were pressed at the same time.</td></tr>
</tbody></table>
<div class="tagremarks">Called when a window is middle-clicked.<br /></div>
</div></div>

<h1><a name="onWindowMouseWheel" id="onWindowMouseWheel" class="targanchor"><span class="b">onWindowMouseWheel(shift, delta, x, y)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onWindowMouseWheel"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">shift</td><td class="tagattribname">keys that were pressed at the same time.</td></tr>
<tr><td class="tagattribalias">delta</td><td class="tagattribname">If turned upward, the value will be positive; if turned downward, the value will be negative.</td></tr>
<tr><td class="tagattribalias">x</td><td class="tagattribname">mouse cursor position<td /></tr>
<tr><td class="tagattribalias">y</td><td class="tagattribname">mouse cursor position</td></tr>
</tbody></table>
<div class="tagremarks">Called when the wheel is rotated.<br /></div>
</div></div>

<h1><a name="onWindowKeyDown" id="onWindowKeyDown" class="targanchor"><span class="b">onWindowKeyDown(key, shift)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onWindowKeyDown"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">key</td><td class="tagattribname">Key down virtual key code.</td></tr>
<tr><td class="tagattribalias">shift</td><td class="tagattribname">keys that were pressed at the same time.</td></tr>
</tbody></table>
<div class="tagremarks">Called when a keyboard key is pressed.<br /></div>
</div></div>

<h1><a name="onWindowKeyUp" id="onWindowKeyUp" class="targanchor"><span class="b">onWindowKeyUp(key, shift)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onWindowKeyUp"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">key</td><td class="tagattribname">Keyed up virtual key code.</td></tr>
<tr><td class="tagattribalias">shift</td><td class="tagattribname">keys that were pressed at the same time.</td></tr>
</tbody></table>
<div class="tagremarks">Called when a keyboard key is released.<br /></div>
</div></div>

<h1><a name="onWindowClose" id="onWindowClose" class="targanchor"><span class="b">onWindowClose(window)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onWindowClose"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">window</td><td class="tagattribname">window object.</td></tr>
</tbody></table>
<div class="tagremarks">Called before the window closes.<br /></div>
</div></div>

<h1><a name="onSaveStartAnchor" id="onSaveStartAnchor" class="targanchor"><span class="b">onSaveStartAnchor(userFlags, core)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onSaveStartAnchor"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">userFlags</td><td class="tagattribname">Passes the user flag when saving.</td></tr>
<tr><td class="tagattribalias">core</td><td class="tagattribname">Core flags at save time are passed.</td></tr>
</tbody></table>
<div class="tagremarks">Called when recording the start position.<br /></div>
</div></div>

<h1><a name="onLoadStartAnchor" id="onLoadStartAnchor" class="targanchor"><span class="b">onLoadStartAnchor(userFlags, core)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onLoadStartAnchor"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">userFlags</td><td class="tagattribname">Passed user flags at load time.</td></tr>
<tr><td class="tagattribalias">core</td><td class="tagattribname">Core flags at load time are passed.</td></tr>
</tbody></table>
<div class="tagremarks">Called when loading the start position.<br /></div>
</div></div>

<h1><a name="onPushRecordAnchor" id="onPushRecordAnchor" class="targanchor"><span class="b">onPushRecordAnchor(userFlags, core)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onPushRecordAnchor"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">userFlags</td><td class="tagattribname">Passes the user flag when saving the record.</td></tr>
<tr><td class="tagattribalias">core</td><td class="tagattribname">Core flags are passed when saving the record.</td></tr>
</tbody></table>
<div class="tagremarks">Called when a record position is saved.<br /></div>
</div></div>

<h1><a name="onPopRecordAnchor" id="onPopRecordAnchor" class="targanchor"><span class="b">onPopRecordAnchor(userFlags, core)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onPopRecordAnchor"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">userFlags</td><td class="tagattribname">Passes the user flag when returning the record.</td></tr>
<tr><td class="tagattribalias">core</td><td class="tagattribname">The core flag at the time of record return is passed.</td></tr>
</tbody></table>
<div class="tagremarks">Called when a record position is restored.<br /></div>
</div></div>

<h1><a name="onRemoveStartAnchor" id="onRemoveStartAnchor" class="targanchor"><span class="b">onRemoveStartAnchor()</span></h1>
<div class="para"><div>
<div class="tagremarks">Called when the recorded start position is deleted.<br /></div>
</div></div>

<h1><a name="onSaveSystemVariables" id="onSaveSystemVariables" class="targanchor"><span class="b">onSaveSystemVariables(userFlags)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onSaveSystemVariables"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">userFlags</td><td class="tagattribname">Passes the user flag when saving.</td></tr>
</tbody></table>
<div class="tagremarks">Called when a system variable is saved.<br /></div>
</div></div>

<h1><a name="onLoadSystemVariables" id="onLoadSystemVariables" class="targanchor"><span class="b">onLoadSystemVariables(userFlags)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onLoadSystemVariables"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">userFlags</td><td class="tagattribname">Passed user flags at load time.</td></tr>
</tbody></table>
<div class="tagremarks">Called when a system variable is loaded.<br /></div>
</div></div>

<h1><a name="onSave" id="onSave" class="targanchor"><span class="b">onSave(userFlags, coreFlags)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onSave"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">userFlags</td><td class="tagattribname">Passes the user flag when saving.</td></tr>
<tr><td class="tagattribalias">coreFlags</td><td class="tagattribname">Core flags at save time are passed.</td></tr>
</tbody></table>
<div class="tagremarks">Called when saved.<br /></div>
</div></div>

<h1><a name="onLoad" id="onLoad" class="targanchor"><span class="b">onLoad(userFlags, coreFlags)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onLoad"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">userFlags</td><td class="tagattribname">Passed user flags at load time.</td></tr>
<tr><td class="tagattribalias">coreFlags</td><td class="tagattribname">Core flags at load time are passed.</td></tr>
</tbody></table>
<div class="tagremarks">Called when loaded.<br /></div>
</div></div>

<h1><a name="onCopyBookmark" id="onCopyBookmark" class="targanchor"><span class="b">onCopyBookmark(userFlags, coreFlags, src, dest)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onCopyBookmark"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">userFlags</td><td class="tagattribname">Passes the user flag when saving.</td></tr>
<tr><td class="tagattribalias">coreFlags</td><td class="tagattribname">Core flags at save time are passed.</td></tr>
<tr><td class="tagattribalias">src</td><td class="tagattribname">The copy source save data number will be passed.</td></tr>
<tr><td class="tagattribalias">dest</td><td class="tagattribname">The copy destination save data number will be passed.</td></tr>
</tbody></table>
<div class="tagremarks">Called when save data is copied.<br /></div>
</div></div>

<h1><a name="onEraseBookmark" id="onEraseBookmark" class="targanchor"><span class="b">onEraseBookmark(number)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onEraseBookmark"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">number</td><td class="tagattribname">The deleted save data number will be passed.</td></tr>
</tbody></table>
<div class="tagremarks">Called when save data is deleted.<br /></div>
</div></div>

<h1><a name="onShowMessageLayer" id="onShowMessageLayer" class="targanchor"><span class="b">onShowMessageLayer()</span></h1>
<div class="tagremarks">Called when the message layer is displayed.<br /></div>
</div></div>

<h1><a name="onHideMessageLayer" id="onHideMessageLayer" class="targanchor"><span class="b">onHideMessageLayer()</span></h1>
<div class="tagremarks">Called when the message layer is hidden.<br /></div>
</div></div>

<h1><a name="onHideMessageLayerByUser" id="onHideMessageLayerByUser" class="targanchor"><span class="b">onHideMessageLayerByUser()</span></h1>
<div class="tagremarks">Called when the message layer is temporarily hidden.<br /></div>
</div></div>

<h1><a name="onShowMessageLayerByUser" id="onShowMessageLayerByUser" class="targanchor"><span class="b">onShowMessageLayerByUser()</span></h1>
<div class="tagremarks">Called when a message layer is temporarily hidden and then restored.<br /></div>
</div></div>

<h1><a name="onSkipModeChanged" id="onSkipModeChanged" class="targanchor"><span class="b">onSkipModeChanged(from, to)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onSkipModeChanged"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">from</td><td class="tagattribname">The skip mode of the transition source is passed.</td></tr>
<tr><td class="tagattribalias">to</td><td class="tagattribname">The skip mode of the transition destination is passed.</td></tr>
</tbody></table>
<div class="tagremarks">Called when the skip mode is changed.<br />
Skip mode values are as follows.<br />
modMessage.smNotSkip(don't skip)<br />
modMessage.smNextWait(Skip to next click)<br />
modMessage.smPageEnd(Skip to page wait)<br />
modMessage.smNextStop(Skip to next stop)<br />
modMessage.smNotRead(Skip to next unread part)<br />
modMessage.smCancel(Skip until canceled)<br />
</div>
</div></div>

<h1><a name="onCancelAutoMode" id="onCancelAutoMode" class="targanchor"><span class="b">onCancelAutoMode()</span></h1>
<div class="tagremarks">Called when auto mode is canceled.<br /></div>
</div></div>

<h1><a name="onEnterAutoMode" id="onEnterAutoMode" class="targanchor"><span class="b">onEnterAutoMode()</span></h1>
<div class="tagremarks">Called when auto mode is entered.<br /></div>
</div></div>

<h1><a name="onShowHistoryLayer" id="onShowHistoryLayer" class="targanchor"><span class="b">onShowHistoryLayer()</span></h1>
<div class="tagremarks">Called when the history layer is displayed.<br /></div>
</div></div>

<h1><a name="onHideHistoryLayer" id="onHideHistoryLayer" class="targanchor"><span class="b">onHideHistoryLayer()</span></h1>
<div class="tagremarks">Called when the history layer is hidden.<br /></div>
</div></div>

<h1><a name="onPrimaryLayerResize" id="onPrimaryLayerResize" class="targanchor"><span class="b">onPrimaryLayerResize(left, top, width, height)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onPrimaryLayerResize"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">left</td><td class="tagattribname">The position of the primary layer is passed.</td></tr>
<tr><td class="tagattribalias">top</td><td class="tagattribname">The position of the primary layer is passed.</td></tr>
<tr><td class="tagattribalias">width</td><td class="tagattribname">The size of the primary layer is passed.</td></tr>
<tr><td class="tagattribalias">height</td><td class="tagattribname">The size of the primary layer is passed.</td></tr>
</tbody></table>
<div class="tagremarks">Called when the primary layer is resized.<br />
</div>
</div></div>

<h1><a name="onScreenModeChanged" id="onScreenModeChanged" class="targanchor"><span class="b">onScreenModeChanged(fullScreened)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onScreenModeChanged"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">fullScreened</td><td class="tagattribname">If true, it will be full screen.</td></tr>
</tbody></table>
<div class="tagremarks">Called when the screen mode changes.<br />
</div>
</div></div>

<h1><a name="onMessageSpeedConfigChanged" id="onMessageSpeedConfigChanged" class="targanchor"><span class="b">onMessageSpeedConfigChanged(config)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onMessageSpeedConfigChanged"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">config</td><td class="tagattribname">Message rate settings are passed.<br />
config.noWait : Character display speed when no wait.<br />
config.high : Character display speed when fast.<br />
config.normal : Normal character display speed.<br />
config.low : Character display speed when slow.<br /></td></tr>
</tbody></table>
<div class="tagremarks">Called when the message rate setting is changed.<br />
</div>
</div></div>

<h1><a name="onReadingMessageSpeedConfigChanged" id="onReadingMessageSpeedConfigChanged" class="targanchor"><span class="b">onReadingMessageSpeedConfigChanged(config)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onReadingMessageSpeedConfigChanged"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">config</td><td class="tagattribname">The read message speed setting is passed.<br />
config.noWait : Character display speed when no wait.<br />
config.high : Character display speed when fast.<br />
config.normal : Normal character display speed.<br />
config.low : Character display speed when slow.<br /></td></tr>
</tbody></table>
<div class="tagremarks">Called when the read message speed setting is changed.<br />
</div>
</div></div>

<h1><a name="onPlayMemory" id="onPlayMemory" class="targanchor"><span class="b">onPlayMemory(storage, label)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onPlayMemory"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">storage</td><td class="tagattribname">Passes the scenario storage name for the memory to be played.<br />
<tr><td class="tagattribalias">label</td><td class="tagattribname">The scenario label name of the memory to be played is passed.<br />
</tbody></table>
<div class="tagremarks">Called when memory playback begins.<br />
</div>
</div></div>

<h1><a name="onEndMemory" id="onEndMemory" class="targanchor"><span class="b">onEndMemory()</span></h1>
<div class="tagremarks">Called when the memory has finished playing.<br />
</div>
</div></div>

<h1><a name="onAskStartConfirm" id="onAskStartConfirm" class="targanchor"><span class="b">onAskStartConfirm(confirm)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onAskStartConfirm"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">confirm</td><td class="tagattribname">If true, a confirmation dialog will be displayed.<br />
</tbody></table>
<div class="tagremarks">Called when the setting to confirm or not is changed.<br />
</div>
</div></div>

<h1><a name="onAskRecordConfirm" id="onAskRecordConfirm" class="targanchor"><span class="b">onAskRecordConfirm(confirm)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onAskRecordConfirm"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">confirm</td><td class="tagattribname">If true, a confirmation dialog will be displayed.<br />
</tbody></table>
<div class="tagremarks">Called when the setting to confirm or not is changed.<br />
</div>
</div></div>

<h1><a name="onAskCloseConfirm" id="onAskCloseConfirm" class="targanchor"><span class="b">onAskCloseConfirm(confirm)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onAskCloseConfirm"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">confirm</td><td class="tagattribname">If true, a confirmation dialog will be displayed.<br />
</tbody></table>
<div class="tagremarks">Called when the setting to confirm or not is changed.<br />
</div>
</div></div>

<h1><a name="onAskSaveConfirm" id="onAskSaveConfirm" class="targanchor"><span class="b">onAskSaveConfirm(confirm)</span></h1>
<div class="para"><div><table class="tagparams" frame="box" rules="all" summary="onAskSaveConfirm"><thead><tr><td>argument</td><td>description</td></tr></thead><tbody>
<tr><td class="tagattribalias">confirm</td><td class="tagattribname">If true, a confirmation dialog will be displayed.<br />
</tbody></table>
<div class="tagremarks">Called when the setting to confirm or not is changed.<br />
</div>
</div></div>

<h1><a name="onSaveEnabled" id="onSaveEnabled" class="targanchor"><span class="b">onSaveEnabled()</span></h1>
<div class="tagremarks">Called when saving becomes possible.<br />
</div>
</div></div>

<h1><a name="onSaveDisabled" id="onSaveDisabled" class="targanchor"><span class="b">onSaveDisabled()</span></h1>
<div class="tagremarks">Called when saving becomes impossible.<br />
</div>
</div></div>

<h1><a name="onShowTitle" id="onShowTitle" class="targanchor"><span class="b">onShowTitle()</span></h1>
<div class="tagremarks">Called when the title screen is displayed.<br />
</div>
</div></div>

<h1><a name="onHideTitle" id="onHideTitle" class="targanchor"><span class="b">onHideTitle()</span></h1>
<div class="tagremarks">Called when the title screen is hidden.<br />
</div>
</div></div>

	<script type="text/javascript" charset="Shift_JIS" src="documentid.js" ></script>
	<script type="text/javascript" charset="Shift_JIS" src="postcontent.js" ></script>
</body>
</html>
